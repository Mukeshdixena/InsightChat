<div class="modal-backdrop">
    <div class="modal-container">
        <h3>Start New Chat</h3>

        <div class="search-bar">
            <input [(ngModel)]="searchQuery" (keyup)="searchUsers()" placeholder="Search users..."
                class="search-input" />
        </div>

        <div class="user-list">
            <div *ngIf="filteredUsers.length === 0" style="padding: 10px; color: gray; text-align: center;">
                No users found.
            </div>
            <div *ngFor="let user of filteredUsers" (click)="startChat(user)" class="user-item">
                <div class="avatar">{{ user.username.charAt(0).toUpperCase() }}</div>
                <div class="user-info">
                    <span class="username">{{ user.username | truncate:25 }}</span>
                </div>
            </div>
        </div>

        <div class="actions">
            <button (click)="cancel()" class="btn-secondary">Cancel</button>
        </div>
    </div>
</div>