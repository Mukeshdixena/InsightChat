<div class="drawer-container">
    <div class="drawer-header">
        <button class="back-btn" (click)="close()">‚Üê</button>
        <h3>Profile</h3>
    </div>

    <div class="drawer-content">
        <div class="avatar-section">
            <div class="large-avatar">{{ username.charAt(0).toUpperCase() }}</div>
        </div>

        <div class="input-group">
            <label>Your Name</label>
            <div class="input-wrapper">
                <input [(ngModel)]="newUsername" placeholder="Enter your name" />
                <span class="icon">‚úé</span>
            </div>
            <p class="hint">This is not your username or pin. This name will be visible to your contacts.</p>
        </div>

        <div class="input-group">
            <label>New Password (Optional)</label>
            <div class="input-wrapper">
                <input [(ngModel)]="newPassword" type="password" placeholder="********" />
                <span class="icon">üîí</span>
            </div>
        </div>

        <div class="input-group"
            style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;"
            (click)="toggleTheme()">
            <label style="margin: 0; cursor: pointer;">Dark Mode</label>
            <div class="toggle-switch" [class.active]="isDarkMode">
                <div class="toggle-knob"></div>
            </div>
        </div>

        <div class="actions">
            <button class="save-btn" (click)="updateProfile()">Save Changes</button>
            <p class="success-msg" *ngIf="message">{{ message }}</p>
        </div>

        <div class="logout-section">
            <button class="logout-btn" (click)="logout()">Logout</button>
        </div>
    </div>
</div>